{"version":3,"file":"js/296.7e87bae8.js","mappings":"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","sources":["webpack://0418/./src/views/UserProduct.vue","webpack://0418/./src/views/UserProduct.vue?c4ac"],"sourcesContent":["<template>\r\n  <div>\r\n    <LoadIng :active=\"isLoading\"></LoadIng>\r\n    <div class=\"container-fluid\">\r\n      <div class=\"row mt-4\" v-if=\"products.length > 0\">\r\n        <div class=\"col-lg-2 col-md-3 mb-2\">\r\n          <ul class=\"list-group rounded-0\">\r\n            <a href=\"#\"\r\n               class=\"list-group-item list-group-item-action\"\r\n               @click.prevent=\"filterCategory = ''\"\r\n               :class=\"{ active: filterCategory === '' }\">\r\n              全部商品\r\n            </a>\r\n            <a class=\"list-group-item list-group-item-action\"\r\n               href=\"#\"\r\n               @click.prevent=\"filterCategory = item\"\r\n               :class=\"{ active: item === filterCategory }\"\r\n               v-for=\"item in categories\"\r\n               :key=\"item\">\r\n              {{ item }}\r\n            </a>\r\n          </ul>\r\n        </div>\r\n        <div class=\"col-lg-10 col-md-9\">\r\n          <div class=\"row d-flex\">\r\n            <template v-for=\"item in filterCategories\" :key=\"item.id\">\r\n              <div class=\"col-lg-4 col-sm-6 mb-4\">\r\n                <div class=\"card h-100 \">\r\n                  <router-link :to=\"`/product/${item.id}`\">\r\n                    <!-- <div style=\"height: 200px; background-size: cover; background-position: center\"\r\n                      :style=\"{ backgroundImage: `url(${item.imageUrl})` }\"></div> -->\r\n                      <img :src=\"item.imageUrl\" alt=\"\" class=\"img-fluid mb-3 \" style=\"height: 200px; width: 400px; object-fit: cover;\">                    \r\n                  </router-link>\r\n                  <div class=\"card-body\">\r\n                    <div class=\"d-flex justify-content-between \">\r\n                      \r\n                      <a href=\"#\" class=\"fs-4 fw-bold\" @click.prevent=\"getProduct(item.id)\"> {{ item.title }}\r\n                      </a>\r\n                      <p class=\"badge bg-secondary fs-6 align-middle\">{{ item.category }}\r\n                      </p>\r\n                    </div>\r\n                    <p class=\"card-text\">{{ item.content }}</p>\r\n                    <div class=\"d-flex justify-content-between align-items-center my-2\">\r\n                      <span class=\"fs-6 text-secondary text-decoration-line-through\">原價 : {{ item.origin_price }} </span>\r\n                      <span class=\"fs-4 fw-bold text-danger text-end\">特價 : {{ item.price }} </span>\r\n                    </div>\r\n                    <div class=\"d-grid mx-auto\">\r\n                      <!-- :disabled=\"this.status.loadingItem === item.id\"避免重複點選 當id=loadingItem不能點 -->\r\n                    </div>\r\n                  </div>\r\n                  <button class=\"btn btn-outline-primary fs-5 fw-bold border-2 rounded-0\" @click=\"addCart(item.id)\"\r\n                    :disabled=\"this.status.loadingItem === item.id\">\r\n                    \r\n                    <div v-if=\"this.status.loadingItem === item.id\" class=\"spinner-grow spinner-grow-sm\"\r\n                      role=\"status\">\r\n                    </div>\r\n                    <i v-else class=\"bi bi-cart-fill\"></i> \r\n                    加入購物車 \r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </template>\r\n          </div>\r\n          <!-- 購物車列表 -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Sweet from '@/components/unit/Sweet';\r\nexport default {\r\n  data() {\r\n    return {\r\n      products: [],\r\n      // pagination: {},\r\n      status: {\r\n        // 2對應品項id\r\n        loadingItem: '',\r\n      },\r\n      categories: ['中焙咖啡豆', '淺焙咖啡豆', '周邊商品'],\r\n      filterCategory: '',\r\n      isLoading: false,\r\n    };\r\n  },\r\n  components: {\r\n    Sweet,\r\n  },\r\n  computed: {\r\n    filterCategories() {\r\n      if (this.filterCategory) {\r\n        return this.products.filter((item) => {\r\n          const data = item.category\r\n            .toLowerCase()\r\n            .includes(this.filterCategory.toLowerCase());\r\n          return data;\r\n        });\r\n      }\r\n      return this.products;\r\n    },\r\n  },\r\n  methods: {\r\n    getProducts() {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products`;\r\n      this.isLoading = true;\r\n      console.log(this.isLoading);\r\n      this.$http.get(url)\r\n      .then((response) => {\r\n        console.log('res',response);\r\n        this.isLoading = false;\r\n        this.products = response.data.products;\r\n        const { categoryName } = this.$route.params;\r\n        if (categoryName) {\r\n            this.filterCategory = categoryName;\r\n          }     \r\n      });\r\n    },\r\n    getProduct(id) {\r\n      this.$router.push(`/product/${id}`);\r\n    },\r\n    addCart(id) {\r\n      console.log(id);\r\n      // [API]: /api/:api_path/cart [方法]: post [說明]: product_id(String)、qty(Number) 為必填欄位 [參數]: { \"data\": { \"product_id\":\"-L9tH8jxVb2Ka_DYPwng\",\"qty\":1 } }\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n      console.log(url);\r\n      this.status.loadingItem = id;\r\n      const cart = {\r\n        product_id: id,\r\n        qty: 1,\r\n      };\r\n      this.$http.post(url, { data: cart })\r\n        .then((res) => {\r\n          Sweet.fire({\r\n            title: '已加入購物車',\r\n            icon: 'success',\r\n          });\r\n          this.status.loadingItem = '';\r\n          console.log(res);\r\n        })\r\n    }\r\n  },\r\n  created() {\r\n    this.getProducts();\r\n  },\r\n};\r\n</script>","import { render } from \"./UserProduct.vue?vue&type=template&id=56dcce40\"\nimport script from \"./UserProduct.vue?vue&type=script&lang=js\"\nexport * from \"./UserProduct.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\黃則叡\\\\Desktop\\\\vue cli\\\\coffee2-0530\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","role","_createElementBlock","_createVNode","_component_LoadIng","active","$data","isLoading","_hoisted_1","products","length","_hoisted_2","_hoisted_3","_hoisted_4","href","_normalizeClass","filterCategory","onClick","_cache","_withModifiers","$event","_Fragment","_renderList","categories","item","key","_hoisted_5","_hoisted_6","_hoisted_7","$options","filterCategories","id","_hoisted_8","_component_router_link","to","src","imageUrl","alt","style","_hoisted_10","_hoisted_11","getProduct","title","_hoisted_12","_hoisted_13","_toDisplayString","category","_hoisted_14","content","_hoisted_15","_hoisted_16","origin_price","_hoisted_17","price","_hoisted_18","addCart","disabled","status","loadingItem","_hoisted_20","_hoisted_21","data","components","Sweet","computed","this","filter","toLowerCase","includes","methods","getProducts","url","console","log","$http","get","then","response","categoryName","$route","params","$router","push","cart","product_id","qty","post","res","icon","created","__exports__","render"],"sourceRoot":""}