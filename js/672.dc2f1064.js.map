{"version":3,"file":"js/672.dc2f1064.js","mappings":"oLACS,aAAW,2B,GACVA,MAAM,qC,GACRC,EAAAA,EAAAA,GAIK,MAJDD,MAAM,aAAW,EACnBC,EAAAA,EAAAA,GAEI,KAFDD,MAAM,YAAYE,KAAK,IAAI,aAAW,Y,EACvCD,EAAAA,EAAAA,GAAuC,QAAjC,cAAY,QAAO,SAAO,G,iBAUpCA,EAAAA,EAAAA,GAIK,MAJDD,MAAM,aAAW,EACnBC,EAAAA,EAAAA,GAEI,KAFDD,MAAM,YAAYE,KAAK,IAAI,aAAW,Q,EACvCD,EAAAA,EAAAA,GAAuC,QAAjC,cAAY,QAAO,SAAO,G,0CAhBxCE,EAAAA,EAAAA,IAoBM,MApBNC,EAoBM,EAnBJH,EAAAA,EAAAA,GAkBK,KAlBLI,EAkBK,CAjBHC,IAIK,aAELH,EAAAA,EAAAA,IAKKI,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IALgCC,EAAAC,MAAMC,aAAdC,K,WAA7BT,EAAAA,EAAAA,IAKK,MALDH,OAAKa,EAAAA,EAAAA,IAAA,CAAC,YAAW,QACHD,IAASH,EAAAC,MAAMI,gBADwBC,IAAKH,G,EAI5DX,EAAAA,EAAAA,GAA8E,KAA3ED,MAAM,YAAYE,KAAK,IAAKc,SAAKC,EAAAA,EAAAA,KAAAC,GAAUC,EAAAC,WAAWR,IAAI,e,QAAMA,GAAI,EAAAS,IAAA,M,MAEzEC,K,CAWN,OACEC,MAAO,CAAC,SACRC,QAAS,CAEPJ,WAAYR,GACVa,KAAKC,MAAM,aAAcd,EAC3B,I,QC3BN,MAAMe,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O,gHCLW5B,MAAM,c,GACXC,EAAAA,EAAAA,GASQ,eARRA,EAAAA,EAAAA,GAOK,YANHA,EAAAA,EAAAA,GAAa,UAAT,SACJA,EAAAA,EAAAA,GAAc,UAAV,UACJA,EAAAA,EAAAA,GAAa,UAAT,SACJA,EAAAA,EAAAA,GAAa,UAAT,SACJA,EAAAA,EAAAA,GAAa,UAAT,SACJA,EAAAA,EAAAA,GAAW,UAAP,UAAE,G,qBAUID,MAAM,iB,GAORA,MAAM,c,GAEHA,MAAM,0B,2EAWNA,MAAM,a,yKAtCrBC,EAAAA,EAAAA,GAiDQ,QAjDRG,EAiDQ,CAhDNC,GAUAJ,EAAAA,EAAAA,GAqCQ,6BApCNE,EAAAA,EAAAA,IAmCWI,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAnCqBqB,EAAAC,QAAM,CAApBC,EAAMhB,M,6BAAsBA,GAAG,CACrCc,EAAAC,OAAOE,SAAM,WAAvB7B,EAAAA,EAAAA,IAiCK,M,MAhCAH,OAAKa,EAAAA,EAAAA,IAAA,mBAAsBkB,EAAKE,W,EACnChC,EAAAA,EAAAA,GAA4C,WAAAiC,EAAAA,EAAAA,IAArCC,EAAAC,SAASC,KAAKN,EAAKO,YAAS,IACnCrC,EAAAA,EAAAA,GAAgE,WAAvB8B,EAAKQ,OAAI,WAA9CpC,EAAAA,EAAAA,IAAuD,Q,mBAAjD+B,EAAAA,EAAAA,IAAQH,EAAKQ,KAAKC,Q,8BAC5BvC,EAAAA,EAAAA,GAOK,YANHA,EAAAA,EAAAA,GAKK,KALLoB,EAKK,gBAJHlB,EAAAA,EAAAA,IAGKI,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAHsBuB,EAAKU,UAAQ,CAA5BC,EAASC,M,WAArBxC,EAAAA,EAAAA,IAGK,MAHsCY,IAAK4B,IAACT,EAAAA,EAAAA,IAC5CQ,EAAQA,QAAQE,OAAQ,QAAIV,EAAAA,EAAAA,IAAGQ,EAAQG,KAAM,KAChDX,EAAAA,EAAAA,IAAGQ,EAAQA,QAAQI,MAAI,M,WAI7B7C,EAAAA,EAAAA,GAA4C,KAA5CqB,GAA4CY,EAAAA,EAAAA,IAAlBH,EAAKgB,OAAK,IACpC9C,EAAAA,EAAAA,GAUK,YATHA,EAAAA,EAAAA,GAQM,MARN+C,EAQM,WAPJ/C,EAAAA,EAAAA,GAEkC,SAF3BD,MAAM,mBAAmBiD,KAAK,WAAYC,GAAE,aAAenB,EAAKmB,K,yBACvDnB,EAAKE,QAAOf,EACpBiC,SAAMjC,GAAEC,EAAAiC,WAAWrB,I,kBADXA,EAAKE,YAErBhC,EAAAA,EAAAA,GAGQ,SAHDD,MAAM,mBAAoBqD,IAAG,aAAetB,EAAKmB,M,CAC1CnB,EAAKE,UAAO,WAAxB9B,EAAAA,EAAAA,IAAoC,OAAAmD,EAAV,UAAG,WAC7BnD,EAAAA,EAAAA,IAAuB,OAAAoD,EAAV,SAAG,UAItBtD,EAAAA,EAAAA,GAQK,YAPHA,EAAAA,EAAAA,GAMM,MANNuD,EAMM,EALJvD,EAAAA,EAAAA,GACmD,UAD3CD,MAAM,iCACLgB,QAAKE,GAAEC,EAAAsC,WAAU,EAAO1B,IAAO,KAAE,EAAA2B,IAC1CzD,EAAAA,EAAAA,GAEY,UAFJD,MAAM,gCACLgB,QAAKE,GAAEC,EAAAwC,kBAAkB5B,IACjC,KAAE,EAAA6B,QAAA,4B,WAOfC,EAAAA,EAAAA,IACoEC,EAAA,CADvDC,MAAOlC,EAAAmC,UACRC,IAAI,aAAcC,aAAa/C,EAAAiC,Y,kCAC3CS,EAAAA,EAAAA,IAA2EM,EAAA,CAAhEpC,KAAMF,EAAAmC,UAAWC,IAAI,WAAYG,UAAUjD,EAAAkD,U,8BACtDR,EAAAA,EAAAA,IAAqES,EAAA,CAAxD5D,MAAOmB,EAAA0C,WAAaC,YAAYrD,EAAAsD,W,4DCtDxCzE,MAAM,aAAakD,GAAG,eAAewB,SAAS,KAAKC,KAAK,SACxD,kBAAgB,oBAAoB,cAAY,OAAOV,IAAI,S,GACzDjE,MAAM,wBAAwB2E,KAAK,Y,GACjC3E,MAAM,0B,GACTC,EAAAA,EAAAA,GAMM,OANDD,MAAM,mCAAiC,EAC1CC,EAAAA,EAAAA,GAEK,MAFDD,MAAM,cAAckD,GAAG,qB,EACzBjD,EAAAA,EAAAA,GAAiB,YAAX,WAERA,EAAAA,EAAAA,GAC4D,UADpDgD,KAAK,SAASjD,MAAM,YACpB,kBAAgB,QAAQ,aAAW,Y,MAExCA,MAAM,c,GACJA,MAAM,O,GACJA,MAAM,Y,GACTC,EAAAA,EAAAA,GAAa,UAAT,QAAI,G,GACDD,MAAM,S,aAGPC,EAAAA,EAAAA,GAAiC,MAA7B2E,MAAA,iBAAsB,MAAE,G,GAI5B3E,EAAAA,EAAAA,GAAc,UAAV,SAAK,G,GAITA,EAAAA,EAAAA,GAAW,UAAP,MAAE,G,GAINA,EAAAA,EAAAA,GAAW,UAAP,MAAE,G,GAMTD,MAAM,Y,GACTC,EAAAA,EAAAA,GAAa,UAAT,QAAI,G,GACDD,MAAM,S,GAGPC,EAAAA,EAAAA,GAAkC,MAA9B2E,MAAA,iBAAqB,QAAI,G,GAI7B3E,EAAAA,EAAAA,GAAa,UAAT,QAAI,G,GAIRA,EAAAA,EAAAA,GAAa,UAAT,QAAI,G,uBASRA,EAAAA,EAAAA,GAAa,UAAT,QAAI,G,SAE2BD,MAAM,gB,SAC1BA,MAAM,c,GAIrBC,EAAAA,EAAAA,GAAY,UAAR,OAAG,G,GAObA,EAAAA,EAAAA,GAAa,UAAT,QAAI,G,GACDD,MAAM,S,GACXC,EAAAA,EAAAA,GAGQ,eAFNA,EAAAA,EAAAA,GACK,W,GAUCD,MAAM,Y,GASjBA,MAAM,gB,GACTC,EAAAA,EAAAA,GAES,UAFDgD,KAAK,SAASjD,MAAM,4BACpB,kBAAgB,SAAQ,OAChC,G,0CAlGRG,EAAAA,EAAAA,IAwGM,MAxGNC,EAwGM,EAtGJH,EAAAA,EAAAA,GAqGM,MArGNI,EAqGM,EApGJJ,EAAAA,EAAAA,GAmGM,MAnGNK,EAmGM,CAlGJe,GAOApB,EAAAA,EAAAA,GAmFM,MAnFNqB,EAmFM,EAlFJrB,EAAAA,EAAAA,GAiFM,MAjFN+C,EAiFM,EAhFJ/C,EAAAA,EAAAA,GAsBM,MAtBN4E,EAsBM,CArBJC,GACA7E,EAAAA,EAAAA,GAmBQ,QAnBRqD,EAmBQ,CAlBOzB,EAAAmC,UAAUzB,OAAI,WAA3BpC,EAAAA,EAAAA,IAiBQ,QAAAoD,EAAA,EAhBNtD,EAAAA,EAAAA,GAGK,WAFHuD,GACAvD,EAAAA,EAAAA,GAAkC,WAAAiC,EAAAA,EAAAA,IAA3BL,EAAAmC,UAAUzB,KAAKwC,MAAI,MAE5B9E,EAAAA,EAAAA,GAGK,WAFHyD,GACAzD,EAAAA,EAAAA,GAAmC,WAAAiC,EAAAA,EAAAA,IAA5BL,EAAAmC,UAAUzB,KAAKC,OAAK,MAE7BvC,EAAAA,EAAAA,GAGK,WAFH2D,GACA3D,EAAAA,EAAAA,GAAiC,WAAAiC,EAAAA,EAAAA,IAA1BL,EAAAmC,UAAUzB,KAAKyC,KAAG,MAE3B/E,EAAAA,EAAAA,GAGK,WAFHgF,GACAhF,EAAAA,EAAAA,GAAqC,WAAAiC,EAAAA,EAAAA,IAA9BL,EAAAmC,UAAUzB,KAAK2C,SAAO,6BAKrCjF,EAAAA,EAAAA,GAwDM,MAxDNkF,EAwDM,CAvDJC,GACAnF,EAAAA,EAAAA,GAiCQ,QAjCRoF,EAiCQ,EAhCNpF,EAAAA,EAAAA,GA+BQ,eA9BNA,EAAAA,EAAAA,GAGK,WAFHqF,GACArF,EAAAA,EAAAA,GAA2B,WAAAiC,EAAAA,EAAAA,IAApBL,EAAAmC,UAAUd,IAAE,MAErBjD,EAAAA,EAAAA,GAGK,WAFHsF,GACAtF,EAAAA,EAAAA,GAAgD,WAAAiC,EAAAA,EAAAA,IAAzCC,EAAAC,SAASC,KAAKR,EAAAmC,UAAU1B,YAAS,MAE1CrC,EAAAA,EAAAA,GAQK,WAPHuF,GACAvF,EAAAA,EAAAA,GAKK,WAJS4B,EAAAmC,UAAUyB,YAAS,WAA/BtF,EAAAA,EAAAA,IAEO,OAAAuF,GAAAxD,EAAAA,EAAAA,IADFC,EAAAC,SAASC,KAAKR,EAAAmC,UAAUyB,YAAS,iBAEtCtF,EAAAA,EAAAA,IAAyB,OAAAwF,EAAZ,eAGjB1F,EAAAA,EAAAA,GAMK,WALH2F,GACA3F,EAAAA,EAAAA,GAGK,WAFW4B,EAAAmC,UAAU/B,UAAO,WAA/B9B,EAAAA,EAAAA,IAAkE,SAAlE0F,EAAsD,UAAG,WACzD1F,EAAAA,EAAAA,IAA2C,OAA3C2F,EAAgC,cAGpC7F,EAAAA,EAAAA,GAKK,WAJH8F,GACA9F,EAAAA,EAAAA,GAEK,WAAAiC,EAAAA,EAAAA,IADAC,EAAAC,SAAS4D,SAASnE,EAAAmC,UAAUjB,QAAK,SAK5CkD,GACAhG,EAAAA,EAAAA,GAkBQ,QAlBRiG,EAkBQ,CAjBNC,GAIAlG,EAAAA,EAAAA,GAYQ,6BAXNE,EAAAA,EAAAA,IAUKI,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAVcqB,EAAAmC,UAAUvB,UAAlBV,K,WAAX5B,EAAAA,EAAAA,IAUK,MAVmCY,IAAKgB,EAAKmB,I,EAChDjD,EAAAA,EAAAA,GAEK,WAAAiC,EAAAA,EAAAA,IADAH,EAAKW,QAAQE,OAAK,IAEvB3C,EAAAA,EAAAA,GAEK,WAAAiC,EAAAA,EAAAA,IADAH,EAAKc,KAAM,OAAGX,EAAAA,EAAAA,IAAGH,EAAKW,QAAQI,MAAI,IAEvC7C,EAAAA,EAAAA,GAEK,KAFLmG,GAEKlE,EAAAA,EAAAA,IADAC,EAAAC,SAAS4D,SAASjE,EAAKsE,cAAW,Q,iBAQnDpG,EAAAA,EAAAA,GAMM,MANNqG,EAMM,CALJC,GAGAtG,EAAAA,EAAAA,GAC6D,UADrDgD,KAAK,SAASjD,MAAM,kBACnBgB,QAAKwF,EAAA,KAAAA,EAAA,GAAAtF,GAAEiB,EAAAT,MAAM,eAAgBG,EAAAmC,aAAY,aAAE,I,gBAQ9D,IACEe,KAAM,aACNxD,MAAO,CACLwC,MAAO,CACLd,KAAMwD,OACNC,UAAY,MAAO,CAAC,CAAG,IAG3BC,OACE,MAAO,CACLC,OAAQ,CAAC,EACTC,MAAO,GACP7C,UAAW,CAAC,EACZ8C,QAAQ,EAEZ,EACAC,MAAO,CAAC,kBACRC,OAAQ,CAACC,GAAAA,GACTC,OAAQ,CAAC,WACTC,MAAO,CACLpD,QACEtC,KAAKuC,UAAYvC,KAAKsC,MACtBtC,KAAKqF,OAASrF,KAAKuC,UAAU/B,OAC/B,I,SC/HN,MAAMN,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,KAEpE,U,WFuDE,IACEgF,OACE,MAAO,CACL7E,OAAQ,CAAC,EACTsF,OAAO,EACP7C,WAAY,CAAC,EACb8C,WAAW,EACXrD,UAAW,CAAC,EACZsD,YAAa,EAEjB,EACAC,WAAY,CACVC,WAAU,KACVC,SAAQ,IACRC,WAAUA,IAEZR,OAAO,CAAC,WACR1F,QAAS,CACPiD,UAAU6C,EAAc,GACtB7F,KAAK6F,YAAcA,EACnB,MAAMK,EAAO,yEAA8EL,IAC3F7F,KAAK4F,WAAY,EACjB5F,KAAKmG,MAAMC,IAAIF,EAAKlG,KAAKqG,aAAaC,MAAMC,IAC1CvG,KAAKK,OAASkG,EAASrB,KAAK7E,OAC5BL,KAAK8C,WAAayD,EAASrB,KAAKpC,WAChC9C,KAAK4F,WAAY,EACjBY,QAAQC,IAAIF,EAAS,GAEzB,EACAvE,UAAU2D,EAAOrF,GACfN,KAAKuC,UAAY,IAAKjC,GACtBN,KAAK2F,OAAQ,EACb,MAAMe,EAAiB1G,KAAK2G,MAAMC,WAClCF,EAAeG,WACjB,EACA3E,kBAAkB5B,GAChBN,KAAKuC,UAAY,IAAKjC,GACtB,MAAMwG,EAAe9G,KAAK2G,MAAMI,SAChCD,EAAaD,WACf,EACAlF,WAAWrB,GACTN,KAAK4F,WAAY,EACjB,MAAMoB,EAAO,mEAAwE1G,EAAKmB,KACpFwF,EAAO,CACXzG,QAASF,EAAKE,SAEhBR,KAAKmG,MAAMe,IAAIF,EAAK,CAAE9B,KAAM+B,IAAQX,MAAMC,IACxCvG,KAAK4F,WAAY,EACjB5F,KAAKgD,UAAUhD,KAAK6F,aACpB7F,KAAKmH,kBAAkBZ,EAAU,SAAS,GAE9C,EACA3D,WACE,MAAMsD,EAAO,mEAAwElG,KAAKuC,UAAUd,KACpGzB,KAAK4F,WAAY,EACjB5F,KAAKmG,MAAMiB,OAAOlB,GAAKI,MAAMC,IAC3BC,QAAQC,IAAIF,GACZ,MAAMO,EAAe9G,KAAK2G,MAAMI,SAChCD,EAAaO,YACbrH,KAAKgD,UAAUhD,KAAK6F,YAAY,GAEpC,GAEFyB,UACEtH,KAAKgD,YACLwD,QAAQC,IAAIc,wCACd,GG3HJ,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAASpH,KAEpE,S","sources":["webpack://0418/./src/components/PaginaTion.vue","webpack://0418/./src/components/PaginaTion.vue?f2f3","webpack://0418/./src/views/backend/OrdersList.vue","webpack://0418/./src/components/OrderModal.vue","webpack://0418/./src/components/OrderModal.vue?b91a","webpack://0418/./src/views/backend/OrdersList.vue?416c"],"sourcesContent":["<template>\r\n    <nav aria-label=\"Page navigation example\">\r\n      <ul class=\"pagination justify-content-center\">\r\n        <li class=\"page-item\">\r\n          <a class=\"page-link\" href=\"#\" aria-label=\"Previous\">\r\n            <span aria-hidden=\"true\">&laquo;</span>\r\n          </a>\r\n        </li>\r\n        <!-- 13.2 顯示全部分頁 pages 為props: ['pages'], -->\r\n        <li class=\"page-item\" v-for=\"page in pages.total_pages\" :key=\"page\"\r\n        :class=\"{'active':page === pages.current_page}\">\r\n        <!-- 13.4 判斷當前頁數:class=\"{'active':page === pages.current_page}\" -->\r\n          <!-- 13.3 建立分頁連結導向 -->\r\n          <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">{{ page }}</a>\r\n        </li>\r\n        <li class=\"page-item\">\r\n          <a class=\"page-link\" href=\"#\" aria-label=\"Next\">\r\n            <span aria-hidden=\"true\">&raquo;</span>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  </template>\r\n  <script>\r\n  // 13.2 :pages=\"{ 頁碼資訊 }\"\r\n  // 13.3 @emitPages=\"更新頁面事件\"\r\n  export default {\r\n    props: ['pages'],\r\n    methods: {\r\n      // 13.3-2 點擊事件後，將頁碼送出\r\n      updatePage (page) {\r\n        this.$emit('emit-pages', page);\r\n      },\r\n    },\r\n  };\r\n  </script>","import { render } from \"./PaginaTion.vue?vue&type=template&id=11ca8d5f\"\nimport script from \"./PaginaTion.vue?vue&type=script&lang=js\"\nexport * from \"./PaginaTion.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\黃則叡\\\\Desktop\\\\vue cli\\\\coffee2-0530\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <!-- <Loading :active=\"isLoading\"></Loading> -->\r\n    <table class=\"table mt-4\">\r\n      <thead>\r\n      <tr>\r\n        <th>購買時間</th>\r\n        <th>Email</th>\r\n        <th>購買款項</th>\r\n        <th>應付金額</th>\r\n        <th>是否付款</th>\r\n        <th>編輯</th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n        <template v-for=\"(item, key) in orders\" :key=\"key\">\r\n          <tr v-if=\"orders.length\"\r\n              :class=\"{'text-secondary': !item.is_paid}\">\r\n            <td>{{ $filters.date(item.create_at) }}</td>\r\n            <td><span v-text=\"item.user.email\" v-if=\"item.user\"></span></td>\r\n            <td>\r\n              <ul class=\"list-unstyled\">\r\n                <li v-for=\"(product, i) in item.products\" :key=\"i\">\r\n                  {{ product.product.title }} 數量：{{ product.qty }}\r\n                  {{ product.product.unit }}\r\n                </li>\r\n              </ul>\r\n            </td>\r\n            <td class=\"text-right\">{{ item.total }}</td>\r\n            <td>\r\n              <div class=\"form-check form-switch\">\r\n                <input class=\"form-check-input\" type=\"checkbox\" :id=\"`paidSwitch${item.id}`\"\r\n                       v-model=\"item.is_paid\"\r\n                       @change=\"updatePaid(item)\">\r\n                <label class=\"form-check-label\" :for=\"`paidSwitch${item.id}`\">\r\n                  <span v-if=\"item.is_paid\">已付款</span>\r\n                  <span v-else>未付款</span>\r\n                </label>\r\n              </div>\r\n            </td>\r\n            <td>\r\n              <div class=\"btn-group\">\r\n                <button class=\"btn btn-outline-primary btn-sm\"\r\n                        @click=\"openModal(false, item)\">檢視</button>\r\n                <button class=\"btn btn-outline-danger btn-sm\"\r\n                        @click=\"openDelOrderModal(item)\"\r\n                >刪除</button>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </template>\r\n      </tbody>\r\n    </table>\r\n    <OrderModal :order=\"tempOrder\"\r\n                ref=\"orderModal\" @update-paid=\"updatePaid\"></OrderModal>\r\n    <DelModal :item=\"tempOrder\" ref=\"delModal\" @del-item=\"delOrder\"></DelModal>\r\n    <PaginaTion :pages=\"pagination\" @emit-pages=\"getOrders\"></PaginaTion>\r\n  </template>\r\n  \r\n  <script>\r\n  import DelModal from '@/components/DelModal.vue'\r\n  import OrderModal from '@/components/OrderModal.vue';\r\n  import PaginaTion from '@/components/PaginaTion.vue';\r\n  export default {\r\n    data() {\r\n      return {\r\n        orders: {},\r\n        isNew: false,\r\n        pagination: {},\r\n        isLoading: false,\r\n        tempOrder: {},\r\n        currentPage: 1,\r\n      };\r\n    },\r\n    components: {\r\n      PaginaTion,\r\n      DelModal,\r\n      OrderModal,\r\n    },\r\n    inject:['emitter'],\r\n    methods: {\r\n      getOrders(currentPage = 1) {\r\n        this.currentPage = currentPage;\r\n        const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${currentPage}`;\r\n        this.isLoading = true;\r\n        this.$http.get(url, this.tempProduct).then((response) => {\r\n          this.orders = response.data.orders;\r\n          this.pagination = response.data.pagination;\r\n          this.isLoading = false;\r\n          console.log(response);\r\n        });\r\n      },\r\n      openModal(isNew, item) {\r\n        this.tempOrder = { ...item };\r\n        this.isNew = false;\r\n        const orderComponent = this.$refs.orderModal;\r\n        orderComponent.showModal();\r\n      },\r\n      openDelOrderModal(item) {\r\n        this.tempOrder = { ...item };\r\n        const delComponent = this.$refs.delModal;\r\n        delComponent.showModal();\r\n      },\r\n      updatePaid(item) {\r\n        this.isLoading = true;\r\n        const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`;\r\n        const paid = {\r\n          is_paid: item.is_paid,\r\n        };\r\n        this.$http.put(api, { data: paid }).then((response) => {\r\n          this.isLoading = false;\r\n          this.getOrders(this.currentPage);\r\n          this.$httpMessageState(response, '更新付款狀態');\r\n        });\r\n      },\r\n      delOrder() {\r\n        const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${this.tempOrder.id}`;\r\n        this.isLoading = true;\r\n        this.$http.delete(url).then((response) => {\r\n          console.log(response);\r\n          const delComponent = this.$refs.delModal;\r\n          delComponent.hideModal();\r\n          this.getOrders(this.currentPage);\r\n        });\r\n      },\r\n    },\r\n    created() {\r\n      this.getOrders();\r\n      console.log(process.env.VUE_APP_API);\r\n    },\r\n  };\r\n  </script>","<template>\r\n    <div class=\"modal fade\" id=\"productModal\" tabindex=\"-1\" role=\"dialog\"\r\n         aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" ref=\"modal\">\r\n      <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n        <div class=\"modal-content border-0\">\r\n          <div class=\"modal-header bg-dark text-white\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n              <span>訂單細節</span>\r\n            </h5>\r\n            <button type=\"button\" class=\"btn-close\"\r\n                    data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-md-4\">\r\n                <h3>用戶資料</h3>\r\n                <table class=\"table\">\r\n                  <tbody v-if=\"tempOrder.user\">\r\n                    <tr>\r\n                      <th style=\"width: 100px;\">姓名</th>\r\n                      <td>{{ tempOrder.user.name }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>Email</th>\r\n                      <td>{{ tempOrder.user.email }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>電話</th>\r\n                      <td>{{ tempOrder.user.tel }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>地址</th>\r\n                      <td>{{ tempOrder.user.address }}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              <div class=\"col-md-8\">\r\n                <h3>訂單細節</h3>\r\n                <table class=\"table\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <th style=\"width: 100px\">訂單編號</th>\r\n                      <td>{{ tempOrder.id }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>下單時間</th>\r\n                      <td>{{ $filters.date(tempOrder.create_at)}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>付款時間</th>\r\n                      <td>\r\n                        <span v-if=\"tempOrder.paid_date\">\r\n                          {{ $filters.date(tempOrder.paid_date) }}\r\n                        </span>\r\n                        <span v-else>時間不正確</span>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>付款狀態</th>\r\n                      <td>\r\n                        <strong v-if=\"tempOrder.is_paid\" class=\"text-success\">已付款</strong>\r\n                        <span v-else class=\"text-muted\">尚未付款</span>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>總金額</th>\r\n                      <td>\r\n                        {{ $filters.currency(tempOrder.total) }}\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                <h3>選購商品</h3>\r\n                <table class=\"table\">\r\n                  <thead>\r\n                    <tr>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\r\n                      <th>\r\n                        {{ item.product.title }}\r\n                      </th>\r\n                      <td>\r\n                        {{ item.qty }} / {{ item.product.unit }}\r\n                      </td>\r\n                      <td class=\"text-end\">\r\n                        {{ $filters.currency(item.final_total) }}\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-outline-secondary\"\r\n                    data-bs-dismiss=\"modal\">取消\r\n            </button>\r\n            <button type=\"button\" class=\"btn btn-primary\"\r\n                    @click=\"$emit('update-order', tempOrder)\">確認</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  <script>\r\n  import modalMixin from '@/mixins/modalMixin';\r\n  export default {\r\n    name: 'orderModal',\r\n    props: {\r\n      order: {\r\n        type: Object,\r\n        default() { return {}; },\r\n      },\r\n    },\r\n    data() {\r\n      return {\r\n        status: {},\r\n        modal: '',\r\n        tempOrder: {},\r\n        isPaid: false,\r\n      };\r\n    },\r\n    emits: ['update-product'],\r\n    mixins: [modalMixin],\r\n    inject: ['emitter'],\r\n    watch: {\r\n      order() {\r\n        this.tempOrder = this.order;\r\n        this.isPaid = this.tempOrder.is_paid;\r\n      },\r\n    },\r\n  };\r\n  </script>","import { render } from \"./OrderModal.vue?vue&type=template&id=5d5ae126\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\黃則叡\\\\Desktop\\\\vue cli\\\\coffee2-0530\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OrdersList.vue?vue&type=template&id=a1945e40\"\nimport script from \"./OrdersList.vue?vue&type=script&lang=js\"\nexport * from \"./OrdersList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\黃則叡\\\\Desktop\\\\vue cli\\\\coffee2-0530\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","href","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_Fragment","_renderList","$props","pages","total_pages","page","_normalizeClass","current_page","key","onClick","_withModifiers","$event","$options","updatePage","_hoisted_4","_hoisted_5","props","methods","this","$emit","__exports__","render","$data","orders","item","length","is_paid","_toDisplayString","_ctx","$filters","date","create_at","user","email","products","product","i","title","qty","unit","total","_hoisted_6","type","id","onChange","updatePaid","for","_hoisted_9","_hoisted_10","_hoisted_11","openModal","_hoisted_12","openDelOrderModal","_hoisted_13","_createVNode","_component_OrderModal","order","tempOrder","ref","onUpdatePaid","_component_DelModal","onDelItem","delOrder","_component_PaginaTion","pagination","onEmitPages","getOrders","tabindex","role","style","_hoisted_7","_hoisted_8","name","tel","_hoisted_14","address","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","paid_date","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","currency","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","final_total","_hoisted_31","_hoisted_32","_cache","Object","default","data","status","modal","isPaid","emits","mixins","modalMixin","inject","watch","isNew","isLoading","currentPage","components","PaginaTion","DelModal","OrderModal","url","$http","get","tempProduct","then","response","console","log","orderComponent","$refs","orderModal","showModal","delComponent","delModal","api","paid","put","$httpMessageState","delete","hideModal","created","process"],"sourceRoot":""}