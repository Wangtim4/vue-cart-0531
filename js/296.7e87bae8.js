"use strict";(self["webpackChunk_0418"]=self["webpackChunk_0418"]||[]).push([[296],{2296:function(t,e,s){s.r(e),s.d(e,{default:function(){return M}});var i=s(3396),o=s(7139),r=s(9242);const l={class:"container-fluid"},a={key:0,class:"row mt-4"},c={class:"col-lg-2 col-md-3 mb-2"},n={class:"list-group rounded-0"},d=["onClick"],u={class:"col-lg-10 col-md-9"},g={class:"row d-flex"},p={class:"card h-100"},f=["src"],h={class:"card-body"},m={class:"d-flex justify-content-between"},w=["onClick"],v={class:"badge bg-secondary fs-6 align-middle"},y={class:"card-text"},C={class:"d-flex justify-content-between align-items-center my-2"},_={class:"fs-6 text-secondary text-decoration-line-through"},b={class:"fs-4 fw-bold text-danger text-end"},k=(0,i._)("div",{class:"d-grid mx-auto"},null,-1),x=["onClick","disabled"],D={key:0,class:"spinner-grow spinner-grow-sm",role:"status"},L={key:1,class:"bi bi-cart-fill"};function z(t,e,s,z,I,$){const P=(0,i.up)("LoadIng"),j=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(P,{active:I.isLoading},null,8,["active"]),(0,i._)("div",l,[I.products.length>0?((0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("div",c,[(0,i._)("ul",n,[(0,i._)("a",{href:"#",class:(0,o.C_)(["list-group-item list-group-item-action",{active:""===I.filterCategory}]),onClick:e[0]||(e[0]=(0,r.iM)((t=>I.filterCategory=""),["prevent"]))}," 全部商品 ",2),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(I.categories,(t=>((0,i.wg)(),(0,i.iD)("a",{class:(0,o.C_)(["list-group-item list-group-item-action",{active:t===I.filterCategory}]),href:"#",onClick:(0,r.iM)((e=>I.filterCategory=t),["prevent"]),key:t},(0,o.zw)(t),11,d)))),128))])]),(0,i._)("div",u,[(0,i._)("div",g,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)($.filterCategories,(t=>((0,i.wg)(),(0,i.iD)("div",{key:t.id,class:"col-lg-4 col-sm-6 mb-4"},[(0,i._)("div",p,[(0,i.Wm)(j,{to:`/product/${t.id}`},{default:(0,i.w5)((()=>[(0,i._)("img",{src:t.imageUrl,alt:"",class:"img-fluid mb-3",style:{height:"200px",width:"400px","object-fit":"cover"}},null,8,f)])),_:2},1032,["to"]),(0,i._)("div",h,[(0,i._)("div",m,[(0,i._)("a",{href:"#",class:"fs-4 fw-bold",onClick:(0,r.iM)((e=>$.getProduct(t.id)),["prevent"])},(0,o.zw)(t.title),9,w),(0,i._)("p",v,(0,o.zw)(t.category),1)]),(0,i._)("p",y,(0,o.zw)(t.content),1),(0,i._)("div",C,[(0,i._)("span",_,"原價 : "+(0,o.zw)(t.origin_price),1),(0,i._)("span",b,"特價 : "+(0,o.zw)(t.price),1)]),k]),(0,i._)("button",{class:"btn btn-outline-primary fs-5 fw-bold border-2 rounded-0",onClick:e=>$.addCart(t.id),disabled:this.status.loadingItem===t.id},[this.status.loadingItem===t.id?((0,i.wg)(),(0,i.iD)("div",D)):((0,i.wg)(),(0,i.iD)("i",L)),(0,i.Uk)(" 加入購物車 ")],8,x)])])))),128))])])])):(0,i.kq)("",!0)])])}s(7658);var I=s(7513),$={data(){return{products:[],status:{loadingItem:""},categories:["中焙咖啡豆","淺焙咖啡豆","周邊商品"],filterCategory:"",isLoading:!1}},components:{Sweet:I.Z},computed:{filterCategories(){return this.filterCategory?this.products.filter((t=>{const e=t.category.toLowerCase().includes(this.filterCategory.toLowerCase());return e})):this.products}},methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/coffee-api/products";this.isLoading=!0,console.log(this.isLoading),this.$http.get(t).then((t=>{console.log("res",t),this.isLoading=!1,this.products=t.data.products;const{categoryName:e}=this.$route.params;e&&(this.filterCategory=e)}))},getProduct(t){this.$router.push(`/product/${t}`)},addCart(t){console.log(t);const e="https://vue3-course-api.hexschool.io/api/coffee-api/cart";console.log(e),this.status.loadingItem=t;const s={product_id:t,qty:1};this.$http.post(e,{data:s}).then((t=>{I.Z.fire({title:"已加入購物車",icon:"success"}),this.status.loadingItem="",console.log(t)}))}},created(){this.getProducts()}},P=s(89);const j=(0,P.Z)($,[["render",z]]);var M=j}}]);
//# sourceMappingURL=296.7e87bae8.js.map